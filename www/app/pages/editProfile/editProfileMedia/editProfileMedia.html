<!----------------------------------------------------------------------------->
<!--                           EDIT PROFILE MEDIA                            -->
<!----------------------------------------------------------------------------->



<!--                     START: LEFT COLUMN                          -->
<!--------------------------------------------------------------------->
<div id="editProfile-left-column" class="col-xs-12 col-sm-12 col-md-3 space-4">

    <!--------------------- START: LEFT MENU BLOCK -------------------->
    <div id="editProfile-menu-block"
         class="editProfile__block row">

        <div class="col-xs-12">

            <ma-side-menu type="edit-profile"
                          view-profile-btn="false"></ma-side-menu>

        </div>

    </div>
    <!--                    END: LEFT MENU BLOCK                     -->

</div>
<!--                        END: LEFT COLUMN                         -->



<!--                     START: MIDDLE COLUMN                        -->
<!--------------------------------------------------------------------->
<div id="editProfile-middle-column" class="col-md-9 col-lg-9 space-10">

    <!------------------ START: PROFILE PHOTO BLOCK ------------------->
    <div id="editProfile-profilePhoto-block"
         class="editProfile__block row">

        <div class="col-md-12">

            <div class="ma-box profile-photo-box">

                <h4 class="ma-box__title margin-reset
                            text-capitalize" translate>
                    %edit.profile.photo.title.text
                </h4>

                <div class="ma-box__content">

                    <!-- Global Validate Error Message -->
                    <div class="row ma-large-message
                                ma-large-message--alert space-5"
                         ng-show="!vm.validate.globalValidate.valid">
                        <div class="col-md-12 text-center">
                            <p class="ma-p ma-p--default ma-p--alert margin-reset">
                                <span>{{vm.validate.globalValidate.message}}</span>
                            </p>
                        </div>
                    </div>


                    <! Photo Section Block >
                    <div class="row margin-reset middle-xs center-xs space-5"
                         ng-show="vm.form.avatar">

                        <div class="col-xs-12">

                            <!-- Image Crop and Preview Photo -->
                            <div class="row">

                                <!-- Image Crop -->
                                <div class="col-xs-6">
                                    <div ngf-drop ng-model="vm.form.avatar"
                                         ngf-pattern="image/*"
                                         style="width:100%; height:340px; border:1px solid #dce0e0;">
                                        <img-crop image="vm.form.avatar | ngfDataUrl"
                                                  result-image="vm.form.croppedDataUrl"
                                                  result-image-size="vm.cropOptions.resultImageSize"
                                                  ng-init="vm.form.croppedDataUrl=''">
                                        </img-crop>
                                    </div>
                                </div>

                                <!-- Preview Image -->
                                <div class="col-xs-6 text-center">
                                    <p class="ma-p
                                              ma-p--default
                                              margin-reset space-2
                                              text-capitalize" translate>
                                        %global.preview.label.text
                                    </p>
                                    <img class="ma-photo-profile
                                                ma-photo-profile--large
                                                round"
                                         ng-src="{{vm.form.croppedDataUrl}}" />
                                </div>

                            </div>

                            <!-- Description Profile Photo -->
                            <div class="row space-top-6">

                                <div class="col-xs-12">
                                    <p ng-if="!vm.isTeacher"
                                       class="ma-p ma-p--large text-left" translate>
                                       %create.teacher.photo.user.help_text.description.text
                                    </p>
                                    <p ng-if="vm.isTeacher"
                                       class="ma-p ma-p--large text-left" translate>
                                        %create.teacher.photo.teacher.help_text.description.text
                                    </p>
                                    <div class="row space-top-5">
                                        <div class="col-md-12 text-left">
                                            <button ngf-select
                                                    ng-model="vm.form.avatar"
                                                    accept="image/*"
                                                    class="ma-btn ma-btn--secondary
                                                           ma-btn--medium"
                                                    style="white-space: normal;" translate>
                                                %global.upload_file.button.text
                                            </button>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>



                    <! Upload Photo block >
                    <div class="row margin-reset"
                         ng-hide="vm.form.avatar">

                        <!-- Current Profile Photo -->
                        <div class="col-lg-4 text-center">
                            <div class="editProfileMedia__block__background
                                        ma-photo-profile
                                        ma-photo-profile--large">
                                <img width="240" height="240"
                                     ng-show="vm.$rootScope.profileData.avatar"
                                     ng-src="{{vm.$rootScope.profileData.avatar}}"
                                     alt="{{vm.$rootScope.profileData.firstName}}">
                            </div>
                            <div class="ma-photo-profile
                                        ma-photo-profile--large
                                        round">
                                <img width="240" height="240"
                                     ng-show="vm.$rootScope.profileData.avatar"
                                     ng-src="{{vm.$rootScope.profileData.avatar}}"
                                     alt="{{vm.$rootScope.profileData.firstName}}">
                            </div>
                        </div>

                        <!-- Description Profile Photo -->
                        <div class="col-lg-8 space-top-5 space-4">
                            <p ng-if="!vm.isTeacher"
                               class="ma-p ma-p--large text-left" translate>
                               %create.teacher.photo.user.help_text.description.text
                            </p>
                            <p ng-if="vm.isTeacher"
                               class="ma-p ma-p--large text-left" translate>
                                %create.teacher.photo.teacher.help_text.description.text
                            </p>
                            <div class="row space-top-5">
                                <div class="col-md-12 text-center">
                                    <button ngf-select
                                            ng-model="vm.form.avatar"
                                            accept="image/*"
                                            class="ma-btn ma-btn--secondary
                                                   ma-btn--medium"
                                            style="white-space: normal;" translate>
                                        %global.upload_file.button.text
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>

                <div class="ma-box__footer">

                    <div class="row middle-xs">

                        <div class="col-xs-6 col-sm-4 text-left">

                            <span class="ma-label
                                         ma-label--simple
                                         ma-label--simple--large
                                         ma-label--simple--primary
                                         margin-reset"
                                  ng-class="{'hidden' : !vm.saved}">
                                <i class="material-icons
                                          md-30
                                          md-primary
                                          vertical-align-middle">
                                    done
                                </i>
                                <span class="vertical-align-middle"
                                      translate>
                                    %notification.success.text
                                </span>
                            </span>

                            <span class="ma-label
                                         ma-label--simple
                                         ma-label--simple--large
                                         ma-label--simple--alert
                                         margin-reset"
                                  ng-class="{'hidden' : !vm.error}"
                                  translate>
                                %notification.error.server.text
                            </span>

                        </div>

                        <div class="hidden-xs col-sm-4"></div>

                        <div class="col-xs-6 col-sm-4 text-right">

                            <button class="ma-btn
                                           ma-btn--primary
                                           ma-btn--medium"
                                    ng-click="vm.saveImageSection()"
                                    ng-disabled="vm.saving">
                                <span ng-class="{'hidden' : vm.saving}"
                                      translate>
                                    %global.save.button.text
                                </span>
                                <span ng-class="{'hidden' : !vm.saving}"
                                      translate>
                                    %global.saving.button.text
                                </span>
                           </button>

                        </div>

                    </div>
                </div>

            </div>

        </div>
    </div>
    <!--                  END: PROFILE PHOTO BLOCK                   -->

</div>
<!--                      END: MIDDLE COLUMN                         -->
