{"version":3,"sources":["app/core/util/filters/app.filter.ts"],"names":[],"mappings":"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","file":"../../../../../www/app/core/util/filters/app.filter.js","sourcesContent":["/**\n * mainApp Filters\n * @description - Set of all mainApp's filters\n */\n\nmodule app.core.util.filters {\n\n    /**********************************/\n    /*      GET I18N VALUE FILTER     */\n    /**********************************/\n\n    /*-- INJECT DEPENDENCIES --*/\n    TranslateFilter.$inject = ['$filter', 'mainApp.core.util.FunctionsUtilService'];\n\n    /**\n    * TranslateFilter\n    * @description - return value based on code from i18n json\n    * @use - {{ 'CO' | getI18nFilter:'country' }}\n    * @function\n    * @return {string} country translated (e.g. 'Estados Unidos')\n    */\n\n    export function TranslateFilter(\n        $filter: angular.IFilterService,\n        functionsUtil: app.core.util.functionsUtil.IFunctionsUtilService) {\n        return function (obj: Object, typeLabel: string): string {\n            //VARIABLES\n            let currentLanguageCode = functionsUtil.getCurrentLanguage() || 'en';\n            let regex = new RegExp(typeLabel, 'g');\n            let translated = '';\n\n            for (var prop in obj) {\n                if (prop.indexOf(typeLabel) >= 0) {\n                    let codeFromJson = prop.replace(regex,'').toLowerCase();\n                    if(codeFromJson === currentLanguageCode) {\n                        translated = obj[prop];\n                        break;\n                    }\n                }\n            }\n\n            return translated;\n        }\n    }\n\n    /*-- INJECT DEPENDENCIES --*/\n    GetI18nFilter.$inject = ['$filter', 'mainApp.core.util.GetDataStaticJsonService'];\n\n    /**\n    * GetI18nFilter\n    * @description - return value based on code from i18n json\n    * @use - {{ 'CO' | getI18nFilter:'country' }}\n    * @function\n    * @return {string} country translated (e.g. 'Estados Unidos')\n    */\n    export function GetI18nFilter($filter: angular.IFilterService,\n                                  getDataFromJson: app.core.util.getDataStaticJson.IGetDataStaticJsonService) {\n        return function (value: string, type: string): string {\n            //VARIABLES\n            let valueI18n = getDataFromJson.returnValuei18n(type, value);\n            let translated = $filter('translate')(valueI18n);\n\n            return translated;\n        }\n    }\n\n\n\n    /*-- INJECT DEPENDENCIES --*/\n    GetTypeOfTeacherFilter.$inject = ['$filter'];\n\n    /**\n    * GetTypeOfTeacherFilter\n    * @description - return the type of teacher text based on teacher type on DB ('H' or 'P')\n    * @use - {{ 'H' | getTypeOfTeacherFilter }}\n    * @function\n    * @return {string} type of teacher text translated\n    */\n    export function GetTypeOfTeacherFilter($filter: angular.IFilterService) {\n        return function (value: string): string {\n            //VARIABLES\n            let translated = '';\n\n            if(value === 'H') {\n                translated = $filter('translate')('%global.teacher.type.hobby.text');\n            } else if (value === 'P') {\n                translated = $filter('translate')('%global.teacher.type.professional.text');\n            }\n\n            return translated;\n        }\n    }\n\n\n\n    /*-- INJECT DEPENDENCIES --*/\n    AgeFilter.$inject = ['$filter', 'mainApp.core.util.FunctionsUtilService'];\n\n    /**\n    * AgeFilter\n    * @description - return age translated (e.g. '35 a√±os')\n    * @use - {{ '1982' | ageFilter }}\n    * @function\n    * @return {string} user years old\n    */\n    export function AgeFilter(\n        $filter: angular.IFilterService,\n        functionsUtil: app.core.util.functionsUtil.IFunctionsUtilService) {\n        return function (value: string): string {\n\n            let age = functionsUtil.ageFormat(value);\n            let translated = $filter('translate')('%global.age.text');\n\n            return age + ' ' + translated;\n        }\n    }\n\n\n\n    /*-- INJECT DEPENDENCIES --*/\n    YearMonthFormatFilter.$inject = ['$filter', 'mainApp.core.util.GetDataStaticJsonService'];\n\n    /**\n    * YearMonthFormatFilter\n    * @description - return date formatted as 'September 2017'\n    * @use - {{ date | yearMonthFormatFilter }}\n    * @function\n    * @return {string} date formatted as 'Month YYYY'\n    */\n    export function YearMonthFormatFilter($filter: angular.IFilterService,\n                                          getDataFromJson: app.core.util.getDataStaticJson.IGetDataStaticJsonService) {\n        return function (value: string): string {\n            let dateString = moment(value).format('YYYY/MM/DD').split('/');\n            let valueI18n = getDataFromJson.returnValuei18n('month', dateString[1]);\n            let translated = $filter('translate')(valueI18n);\n            //Split date to day, month and year\n            let dateFormatted = {\n                month: translated,\n                year: dateString[0]\n            };\n            return dateFormatted.month + ' ' + dateFormatted.year;\n        }\n    }\n\n\n\n    /*-- INJECT DEPENDENCIES --*/\n    RangeFilter.$inject = [];\n\n    /**\n    * RangeFilter\n    * @description - Receive a number range (e.g. [-1, 1] or [1, 5]), and return\n    * a list of number in order to show inside a ng-repeat loop.\n    * @use - ng-repeat = \"i in [-1,1] | RangeFilter\"\n    * @function\n    * @return {Array<number>} result - number list to show in ng-repeat loop\n    */\n    export function RangeFilter() {\n        return function (value: Array<number>): Array<number> {\n            let lowBound, highBound;\n            if (value.length == 1) {\n              lowBound = 0;\n              highBound = +value[0] - 1;\n          } else if (value.length == 2) {\n              lowBound = +value[0];\n              highBound = +value[1];\n            }\n            var i = lowBound;\n            var result = [];\n            while (i <= highBound) {\n              result.push(i);\n              i++;\n            }\n            return result;\n        }\n    }\n\n\n\n    /*-- INJECT DEPENDENCIES --*/\n    RangeFormatFilter.$inject = [];\n\n    /**\n    * RangeFormatFilter\n    * @description - Receive a number range (e.g. [-1, 1] or [1, 5]), and return\n    * this range formatted: '1 - 5' or '2 - 10'\n    * @use - {{ array<number> | rangeFormatFilter }}\n    * @function\n    * @param {Array<number>} value - number array with 1 or 2 elements (e.g [1, 4] or [7])\n    * @return {string} result - range formatted\n    */\n    export function RangeFormatFilter() {\n        return function (value: Array<number>): string {\n            let result = '0';\n\n            if(value.length === 1) {\n                result = value[0];\n            } else if(value.length === 2) {\n                result = value[0] + ' - ' + value[1];\n            }\n\n            return result;\n        }\n    }\n\n\n    /*-- MODULE DEFINITION --*/\n    angular\n        .module('mainApp.core.util')\n        .filter('translateFilter', TranslateFilter)\n        .filter('getI18nFilter', GetI18nFilter)\n        .filter('getTypeOfTeacherFilter', GetTypeOfTeacherFilter)\n        .filter('ageFilter', AgeFilter)\n        .filter('yearMonthFormatFilter', YearMonthFormatFilter)\n        .filter('rangeFilter', RangeFilter)\n        .filter('rangeFormatFilter', RangeFormatFilter);\n\n}\n"]}