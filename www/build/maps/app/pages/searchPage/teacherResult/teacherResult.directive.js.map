{"version":3,"sources":["app/pages/searchPage/teacherResult/teacherResult.directive.ts"],"names":[],"mappings":"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","file":"../../../../../www/app/pages/searchPage/teacherResult/teacherResult.directive.js","sourcesContent":["/**\n* MaTeacherResult\n* @description - MainApp Teacher Result on SearchPage Directive\n* @example - <ma-teacher-result></ma-teacher-result>\n*/\n\nmodule app.pages.searchPage {\n    'use strict';\n\n    /**********************************/\n    /*           INTERFACES           */\n    /**********************************/\n    export interface ITeacherResult extends angular.IDirective {\n\n    }\n\n    /****************************************/\n    /*           CLASS DEFINITION           */\n    /****************************************/\n    class MaTeacherResult implements ITeacherResult {\n\n        static directiveId = 'maTeacherResult';\n\n        /**********************************/\n        /*           PROPERTIES           */\n        /**********************************/\n        bindToController: Boolean = true;\n        controller = TeacherResultController.controllerId;\n        controllerAs: string = 'vm';\n        restrict: string = 'E';\n        templateUrl: string = 'app/pages/searchPage/teacherResult/teacherResult.html';\n        // --------------------------------\n\n        /*-- INJECT DEPENDENCIES --*/\n        //static $inject = ['dataConfig'];\n\n        /**********************************/\n        /*           CONSTRUCTOR          */\n        /**********************************/\n        constructor() {\n            console.log('maTeacherResult directive constructor');\n        }\n\n        link($scope: angular.IScope, elm: Element, attr: angular.IAttributes): void {\n            console.log('maTeacherResult link function');\n        }\n\n        /*-- INSTANCE FUNCTION --*/\n        static instance(): ITeacherResult {\n            return new MaTeacherResult();\n        }\n    }\n\n    /*-- MODULE DEFINITION --*/\n    angular\n        .module('mainApp.pages.searchPage')\n        .directive(MaTeacherResult.directiveId, MaTeacherResult.instance);\n\n\n        /*********************************************************/\n        /*                     CONTROLLER                        */\n        /*********************************************************/\n        /**\n        * TeacherResultController\n        * @description - Teacher Result Controller\n        */\n\n        /**********************************/\n        /*           INTERFACES           */\n        /**********************************/\n        interface ITeacherResultController {\n            activate: () => void;\n        }\n\n        interface ITeacherResultForm {\n        }\n\n        /****************************************/\n        /*           CLASS DEFINITION           */\n        /****************************************/\n        export class TeacherResultController implements ITeacherResultController {\n\n            static controllerId = 'mainApp.pages.searchPage.TeacherResultController';\n\n            /**********************************/\n            /*           PROPERTIES           */\n            /**********************************/\n            form: ITeacherResultForm;\n            private _hoverDetail: Array<boolean>;\n            // --------------------------------\n\n\n            /*-- INJECT DEPENDENCIES --*/\n            static $inject = [\n                'mainApp.core.util.FunctionsUtilService',\n                '$uibModal',\n                'dataConfig',\n                '$filter',\n                '$state',\n                '$rootScope'\n            ];\n\n\n            /**********************************/\n            /*           CONSTRUCTOR          */\n            /**********************************/\n            constructor(private functionsUtil: app.core.util.functionsUtil.IFunctionsUtilService,\n                        private $uibModal: ng.ui.bootstrap.IModalService,\n                        private dataConfig: IDataConfig,\n                        private $filter: angular.IFilterService,\n                        private $state: ng.ui.IStateService,\n                        private $rootScope: angular.IRootScopeService) {\n                this.init();\n            }\n\n\n            /*-- INITIALIZE METHOD --*/\n            private init() {\n\n                //Init form\n                this.form = {\n\n                };\n\n                //Init hoverDetail array\n                this._hoverDetail = [];\n\n                this.activate();\n            }\n\n            /*-- ACTIVATE METHOD --*/\n            activate(): void {\n                //LOG\n                console.log('teacherResult controller actived');\n            }\n\n\n            /**********************************/\n            /*            METHODS             */\n            /**********************************/\n\n            /**\n            * goToDetails\n            * @description - when user clicked a specific result, go to details\n            * @use - this.goToDetails('2');\n            * @function\n            * @params {string} containerId - entity id (teacher)\n            * @return {void}\n            */\n\n            goToDetails(containerId: string): void {\n                var url = this.$state.href('page.teacherProfilePage', {id: containerId});\n                window.open(url,'_blank');\n            }\n\n\n\n            /**\n            * _assignNativeClass\n            * @description - this method return if teacher is native or not\n            * result (students, teachers, schools, etc)\n            * @use - this._assignNativeClass(languages);\n            * @function\n            * @param {native Array, learn Array and teach Array} languages\n            * teacher languages (native, teach and learn)\n            * @return {boolean} isNative\n            */\n\n            private _assignNativeClass(languages): boolean {\n                let native = languages.native;\n                let teach = languages.teach;\n                let isNative = false;\n\n                for (let i = 0; i < native.length; i++) {\n                    for (let j = 0; j < teach.length; j++) {\n                        if(teach[j] === native[i]) {\n                            isNative = true;\n                        }\n                    }\n                }\n\n                return isNative;\n            }\n\n\n\n            /**\n            * _ratingAverage\n            * @description - take teacher ranking and calculate the rating average\n            * @use - this._ratingAverage(ratingsArray);\n            * @function\n            * @param {Array<Object>} ratingsArr - list of rating objects\n            * @return {number} rating average value\n            */\n            //TODO: Analizar por que puse Array<Object> en vez de Array<Rating>\n            // y solucionar\n            private _ratingAverage(ratingsArr: Array<Object>): number {\n                return this.functionsUtil.teacherRatingAverage(ratingsArr);\n            }\n\n\n\n            /**\n            * _hoverEvent\n            * @description - this method is launched  when user launchs\n            * mouseover/mouseleave event on result container\n            * @use - this._hoverEvent('10', true);\n            * @function\n            * @param {string} id - container result id\n            * @param {boolean} status - mouseover = true / mouseleave = false\n            */\n\n            private _hoverEvent(id: string, status: boolean): void {\n                //VARIABLES\n                let args = {id: id, status: status, typeOfMarker: 'round'};\n                this._hoverDetail[id] = status;\n                /*\n                * Send event to child (MapController) in order to It changes icon in\n                * specific Marker on the Map\n                */\n                this.$rootScope.$broadcast('ChangeMarker', args);\n            }\n\n\n        }\n\n        /*-- MODULE DEFINITION --*/\n        angular.module('mainApp.pages.searchPage')\n            .controller(TeacherResultController.controllerId, TeacherResultController);\n\n}\n"]}