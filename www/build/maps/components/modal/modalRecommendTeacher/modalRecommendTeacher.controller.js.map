{"version":3,"sources":["components/modal/modalRecommendTeacher/modalRecommendTeacher.controller.ts"],"names":[],"mappings":"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","file":"../../../../www/components/modal/modalRecommendTeacher/modalRecommendTeacher.controller.js","sourcesContent":["/**\n * ModalRecommendTeacherController\n * @description - modal Teacher's Certificate controller definition, generic modal in order\n * to show add new teacher's certificate form\n * @constructor\n * @param {ng.ui.bootstrap.IModalServiceInstance} $uibModalInstance - modal boostrap instance\n */\n\nmodule components.modal.modalRecommendTeacher {\n\n    /**********************************/\n    /*           INTERFACES           */\n    /**********************************/\n    interface IModalRecommendTeacherController {\n        close: () => void;\n        activate: () => void;\n    }\n\n    interface IModalRecommendTeacherScope extends ng.IScope {\n\n    }\n\n    interface IDataSet {\n        earlyId: string;\n    }\n\n\n    class ModalRecommendTeacherController implements IModalRecommendTeacherController {\n\n        static controllerId = 'mainApp.components.modal.ModalRecommendTeacherController';\n\n        /**********************************/\n        /*           PROPERTIES           */\n        /**********************************/\n        defaultConfig: any;\n        rating: app.models.teacher.Rating;\n        // --------------------------------\n\n        /*-- INJECT DEPENDENCIES --*/\n        static $inject = [\n            '$uibModalInstance',\n            'dataSetModal',\n            'mainApp.localStorageService',\n            'mainApp.models.student.StudentService',\n            '$state',\n            'dataConfig',\n            '$timeout',\n            '$filter',\n            '$rootScope'\n        ];\n\n\n        /**********************************/\n        /*           CONSTRUCTOR          */\n        /**********************************/\n        constructor(\n            private $uibModalInstance: ng.ui.bootstrap.IModalServiceInstance,\n            private dataSetModal: IDataSet,\n            private localStorage,\n            private StudentService: app.models.student.IStudentService,\n            private $state: ng.ui.IStateService,\n            private dataConfig,\n            private $timeout: angular.ITimeoutService,\n            private $filter: angular.IFilterService,\n            private $rootScope: app.core.interfaces.IMainAppRootScope) {\n\n            this._init();\n\n        }\n\n        /*-- INITIALIZE METHOD --*/\n        private _init() {\n            //VARIABLES\n            let self = this;\n\n            this.activate();\n        }\n\n        //active function to handle all controller logic\n        activate(): void {\n            //VARIABLES\n            let self = this;\n            //LOG\n            console.log('modalRecommendTeacher controller actived');\n\n            //Get Early Adopter Recommendation Details\n            this.StudentService.getRatingByEarlyid(this.dataSetModal.earlyId).then(\n                function(response) {\n                    if(response.id) {\n\n                        self.rating = new app.models.teacher.Rating(response);\n\n                    }\n                }\n            );\n        }\n\n        /**********************************/\n        /*            METHODS             */\n        /**********************************/\n\n\n        //TODO: Poner descripcion\n        _join(): void {\n            //CONSTANTS\n            const CREATE_TEACHER = 'page.createTeacherPage.start';\n            const CLICK_MIXPANEL = 'Click: Join as a Teacher from recommendation modal';\n            //MIXPANEL\n            mixpanel.track(CLICK_MIXPANEL);\n            //Save early id on localStorage to keep it while user navigate waysily\n            this.localStorage.setItem(this.dataConfig.earlyIdLocalStorage, this.dataSetModal.earlyId);\n            this.$uibModalInstance.close();\n            // GO TO NEXT STEP\n            this.$state.go(CREATE_TEACHER, {reload: true});\n        }\n\n        /**\n        * close\n        * @description - when user click \"X\" button, close the modal\n        * @use - this.close();\n        * @function\n        * @return {void}\n        */\n        close(): void {\n            //CONSTANTS\n            const CLICK_MIXPANEL = 'Click on Close recommend teacher modal button';\n            //MIXPANEL\n            mixpanel.track(CLICK_MIXPANEL);\n            //Save early id on localStorage to keep it while user navigate waysily\n            this.localStorage.setItem(this.dataConfig.earlyIdLocalStorage, this.dataSetModal.earlyId);\n            this.$rootScope.activeMessageBar = true;\n            this.$uibModalInstance.close();\n        }\n\n\n    }\n\n    angular.module('mainApp.components.modal')\n        .controller(ModalRecommendTeacherController.controllerId,\n                    ModalRecommendTeacherController);\n\n}\n"]}